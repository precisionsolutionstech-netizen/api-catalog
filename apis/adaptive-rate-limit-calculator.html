<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="../favicon.svg" type="image/svg+xml">
    <link rel="icon" href="../favicon.png" type="image/png" sizes="32x32">
    <title>Adaptive Rate Limit Response Calculator API | RapidAPI</title>
    <meta name="description" content="Rate limit calculator, 429 response advisor, and retry-backoff API. Compute correct HTTP 429 responses with retry-after headers and backoff guidance. API gateways, tiered APIs. Prevents retry storms, tier fairness. Stateless.">
    <meta name="keywords" content="adaptive-rate-limit-calculator, API, RapidAPI, developer">
    <link rel="canonical" href="https://your-catalog-domain.com/apis/adaptive-rate-limit-calculator.html">
    <meta property="og:title" content="Adaptive Rate Limit Response Calculator API">
    <meta property="og:description" content="Rate limit calculator, 429 response advisor, and retry-backoff API. Compute correct HTTP 429 responses with retry-after headers and backoff guidance. API gateways, tiered APIs. Prevents retry storms, tier fairness. Stateless.">
    <script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","name":"Adaptive Rate Limit Response Calculator API","description":"Rate limit calculator, 429 response advisor, and retry-backoff API. Compute correct HTTP 429 responses with retry-after headers and backoff guidance. API gateways, tiered APIs. Prevents retry storms, tier fairness. Stateless.","url":"https://your-catalog-domain.com/apis/adaptive-rate-limit-calculator.html"}
    </script>
    <style>
        :root { --bg: #0f172a; --surface: #1e293b; --border: #334155; --text: #e2e8f0; --muted: #94a3b8; --accent: #38bdf8; --success: #34d399; --error: #f87171; }
        * { box-sizing: border-box; }
        body { margin: 0; font-family: ui-sans-serif, system-ui, sans-serif; background: var(--bg); color: var(--text); line-height: 1.6; }
        .wrap { max-width: 900px; margin: 0 auto; padding: 24px 20px; }
        a { color: var(--accent); }
        nav { margin-bottom: 32px; font-size: 0.9rem; }
        h1 { font-size: 1.9rem; margin: 0 0 12px; }
        .lead { font-size: 1.1rem; color: var(--muted); margin-bottom: 32px; }
        h2 { font-size: 1.35rem; margin: 32px 0 16px; padding-bottom: 8px; border-bottom: 1px solid var(--border); }
        section { margin-bottom: 28px; }
        .playground { background: var(--surface); border-radius: 12px; padding: 20px; margin: 24px 0; border: 1px solid var(--border); }
        .playground label { display: block; margin-bottom: 6px; font-weight: 600; font-size: 0.9rem; }
        .playground input[type="password"], .playground select { width: 100%; max-width: 320px; padding: 10px 12px; border: 1px solid var(--border); border-radius: 8px; background: var(--bg); color: var(--text); margin-bottom: 12px; }
        .playground textarea { width: 100%; min-height: 120px; padding: 12px; border: 1px solid var(--border); border-radius: 8px; background: var(--bg); color: var(--text); font-family: ui-monospace, monospace; font-size: 13px; resize: vertical; }
        .playground input[type="file"] { margin-bottom: 12px; }
        .playground button { padding: 10px 20px; background: var(--accent); color: var(--bg); border: none; border-radius: 8px; font-weight: 600; cursor: pointer; margin-top: 8px; }
        .playground button:disabled { opacity: 0.6; cursor: not-allowed; }
        .playground .result { margin-top: 16px; padding: 12px; border-radius: 8px; background: var(--bg); border: 1px solid var(--border); white-space: pre-wrap; word-break: break-all; font-family: ui-monospace, monospace; font-size: 12px; max-height: 320px; overflow: auto; }
        .playground .result.error { border-color: var(--error); color: var(--error); }
        .playground .result.success { border-color: var(--success); }
        .file-upload-note { font-size: 0.85rem; color: var(--muted); margin-top: 4px; }
        .code-wrap { position: relative; margin: 16px 0; }
        .code-wrap pre { margin: 0; padding: 14px 16px; background: var(--surface); border-radius: 8px; border: 1px solid var(--border); overflow-x: auto; font-size: 13px; }
        .code-wrap .copy-btn { position: absolute; top: 10px; right: 10px; padding: 6px 12px; background: var(--border); color: var(--text); border: none; border-radius: 6px; font-size: 12px; cursor: pointer; }
        .code-wrap .copy-btn:hover { background: var(--accent); color: var(--bg); }
        .lang-tabs { display: flex; gap: 4px; margin-bottom: 8px; flex-wrap: wrap; }
        .lang-tabs button { padding: 8px 14px; background: var(--surface); border: 1px solid var(--border); color: var(--muted); border-radius: 6px; cursor: pointer; font-size: 0.9rem; }
        .lang-tabs button.active { background: var(--accent); color: var(--bg); border-color: var(--accent); }
        .code-block { display: none; }
        .code-block.active { display: block; }
        .schema-section { margin: 16px 0; }
        .schema-toggle { color: var(--accent); cursor: pointer; text-decoration: none; font-weight: 600; }
        .schema-toggle:hover { text-decoration: underline; }
        .schema-content { display: none; margin-top: 12px; padding: 12px; background: var(--surface); border-radius: 8px; border: 1px solid var(--border); overflow-x: auto; }
        .schema-content.show { display: block; }
        .schema-table { width: 100%; border-collapse: collapse; font-size: 0.9rem; }
        .schema-table th, .schema-table td { padding: 8px 12px; text-align: left; border-bottom: 1px solid var(--border); }
        .schema-table code { font-size: 0.85em; }
        .long-desc { color: var(--muted); font-size: 0.98rem; }
        .long-desc p { margin: 0.75em 0; }
        .long-desc ul { margin: 0.75em 0; padding-left: 1.5em; }
        .long-desc li { margin: 0.35em 0; }
        .postman-btn { display: inline-block; margin-top: 12px; padding: 10px 18px; background: var(--surface); border: 1px solid var(--border); color: var(--accent); border-radius: 8px; cursor: pointer; font-weight: 600; text-decoration: none; }
        .postman-btn:hover { background: var(--border); }
        footer { margin-top: 48px; padding-top: 24px; border-top: 1px solid var(--border); color: var(--muted); font-size: 0.9rem; text-align: center; }
    </style>
</head>
<body>
    <div class="wrap">
        <nav aria-label="Breadcrumb"><a href="../index.html">API Catalog</a> → Adaptive Rate Limit Calculator</nav>
        <article>
            <header>
                <h1>Adaptive Rate Limit Response Calculator API</h1>
                <p class="lead">Rate limit calculator, 429 response advisor, and retry-backoff API. Compute correct HTTP 429 responses with retry-after headers and backoff guidance. API gateways, tiered APIs. Prevents retry storms, tier fairness. Stateless.</p>
            </header>
            <section><h2 id="why">Why use this API?</h2><p>APIs return rate limits in different formats. This API helps clients compute when to retry and how to back off.</p></section>
            <section><h2 id="what">What the API does</h2><p>POST with rate limit headers or payload. Returns retry-after, backoff, or strategy.</p></section>
            <section>
                <h2 id="schemas">Request &amp; response schema</h2>
                <p><a href="#request-schema" class="schema-toggle" id="toggle-req" aria-expanded="false">View request schema</a> &middot; <a href="#response-schema" class="schema-toggle" id="toggle-res" aria-expanded="false">View response schema</a></p>
                
                <div id="request-schema" class="schema-content" aria-hidden="true"><table class="schema-table"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>requestContext</code></td><td><code>object</code></td><td>Method, endpoint, clientId, clientTier, isIdempotent.</td></tr><tr><td><code>rateLimitSignals</code></td><td><code>object</code></td><td>currentRequestRate, allowedQuota, remainingAllowance, etc.</td></tr></tbody></table></div>
                <div id="response-schema" class="schema-content" aria-hidden="true"><table class="schema-table"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>statusCode</code></td><td><code>integer</code></td><td></td></tr><tr><td><code>headers.Retry-After</code></td><td><code>integer</code></td><td></td></tr><tr><td><code>headers.X-RateLimit-Limit</code></td><td><code>integer</code></td><td></td></tr><tr><td><code>headers.X-RateLimit-Remaining</code></td><td><code>integer</code></td><td></td></tr><tr><td><code>headers.X-RateLimit-Reset</code></td><td><code>integer</code></td><td></td></tr><tr><td><code>retryRecommendation</code></td><td><code>string</code></td><td></td></tr><tr><td><code>suggestedBackoffDuration</code></td><td><code>integer</code></td><td></td></tr><tr><td><code>degradationSuggestion</code></td><td><code>string</code></td><td></td></tr><tr><td><code>decisionReasoning</code></td><td><code>string</code></td><td></td></tr><tr><td><code>appliedPolicyRules</code></td><td><code>array</code></td><td></td></tr><tr><td><code>warnings</code></td><td><code>array</code></td><td></td></tr><tr><td><code>clientMessage</code></td><td><code>string</code></td><td></td></tr></tbody></table></div>
            </section>
            <section>
                <h2 id="playground">Try it in the playground</h2>
                <p>Add your <a href="https://rapidapi.com/precisionsolutionstech/api/adaptive-rate-limit-response-calculator" target="_blank" rel="noopener">RapidAPI key</a> and run. Key is sent only to RapidAPI.</p>
                <div class="playground">
                    <label for="api-key">RapidAPI Key (required)</label>
                    <input type="password" id="api-key" placeholder="Your RapidAPI key" autocomplete="off">
                    
                    <label for="body-json">Request body (JSON)</label>
                    <textarea id="body-json" placeholder='{}'>{
  &quot;requests&quot;: [
    {
      &quot;requestContext&quot;: {
        &quot;clientTier&quot;: &quot;free&quot;
      },
      &quot;rateLimitSignals&quot;: {
        &quot;remainingAllowance&quot;: 0,
        &quot;allowedQuota&quot;: 100
      }
    },
    {
      &quot;requestContext&quot;: {
        &quot;clientTier&quot;: &quot;paid&quot;
      },
      &quot;rateLimitSignals&quot;: {
        &quot;remainingAllowance&quot;: 0,
        &quot;allowedQuota&quot;: 200
      }
    },
    {
      &quot;requestContext&quot;: {
        &quot;clientTier&quot;: &quot;internal&quot;
      },
      &quot;rateLimitSignals&quot;: {
        &quot;remainingAllowance&quot;: 0,
        &quot;allowedQuota&quot;: 100
      }
    }
  ]
}</textarea>
                    <button type="button" id="run-btn">Run request</button>
                    <div id="play-result" class="result" style="display:none;" aria-live="polite"></div>
                </div>
            </section>
            <section>
                <h2 id="code">Copy code</h2>
                <p>Host: <code>adaptive-rate-limit-response-calculator.p.rapidapi.com</code>, endpoint: <code>POST /calculate</code>. Choose language:</p>
                <div class="lang-tabs" role="tablist">
                    <button type="button" role="tab" aria-selected="true" data-lang="curl" class="active">cURL</button>
                    <button type="button" role="tab" aria-selected="false" data-lang="javascript">JavaScript</button>
                    <button type="button" role="tab" aria-selected="false" data-lang="python">Python</button>
                    <button type="button" role="tab" aria-selected="false" data-lang="java">Java</button>
                </div>
                <div id="snippet-curl" class="code-block active"><div class="code-wrap"><button type="button" class="copy-btn" data-copy="snippet-curl">Copy</button><pre><code>curl --request POST \
  --url 'https://adaptive-rate-limit-response-calculator.p.rapidapi.com/calculate' \
  --header 'Content-Type: application/json' \
  --header 'x-rapidapi-host: adaptive-rate-limit-response-calculator.p.rapidapi.com' \
  --header 'x-rapidapi-key: YOUR_RAPIDAPI_KEY' \
  --data '{
  &quot;requests&quot;: [
    {
      &quot;requestContext&quot;: {
        &quot;clientTier&quot;: &quot;free&quot;
      },
      &quot;rateLimitSignals&quot;: {
        &quot;remainingAllowance&quot;: 0,
        &quot;allowedQuota&quot;: 100
      }
    },
    {
      &quot;requestContext&quot;: {
        &quot;clientTier&quot;: &quot;paid&quot;
      },
      &quot;rateLimitSignals&quot;: {
        &quot;remainingAllowance&quot;: 0,
        &quot;allowedQuota&quot;: 200
      }
    },
    {
      &quot;requestContext&quot;: {
        &quot;clientTier&quot;: &quot;internal&quot;
      },
      &quot;rateLimitSignals&quot;: {
        &quot;remainingAllowance&quot;: 0,
        &quot;allowedQuota&quot;: 100
      }
    }
  ]
}'</code></pre></div></div>
                <div id="snippet-javascript" class="code-block"><div class="code-wrap"><button type="button" class="copy-btn" data-copy="snippet-javascript">Copy</button><pre><code>const res = await fetch('https://adaptive-rate-limit-response-calculator.p.rapidapi.com/calculate', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'x-rapidapi-key': 'YOUR_RAPIDAPI_KEY',
    'x-rapidapi-host': 'adaptive-rate-limit-response-calculator.p.rapidapi.com'
  },
  body: '{   &quot;requests&quot;: [     {       &quot;requestContext&quot;: {         &quot;clientTier&quot;: &quot;free&quot;       },       &quot;rateLimitSignals&quot;: {         &quot;remainingAllowance&quot;: 0,         &quot;allowedQuota&quot;: 100       }     },     {       &quot;requestContext&quot;: {         &quot;clientTier&quot;: &quot;paid&quot;       },       &quot;rateLimitSignals&quot;: {         &quot;remainingAllowance&quot;: 0,         &quot;allowedQuota&quot;: 200       }     },     {       &quot;requestContext&quot;: {         &quot;clientTier&quot;: &quot;internal&quot;       },       &quot;rateLimitSignals&quot;: {         &quot;remainingAllowance&quot;: 0,         &quot;allowedQuota&quot;: 100       }     }   ] }'
});
const data = await res.json();
console.log(data);</code></pre></div></div>
                <div id="snippet-python" class="code-block"><div class="code-wrap"><button type="button" class="copy-btn" data-copy="snippet-python">Copy</button><pre><code>import http.client
import json

conn = http.client.HTTPSConnection(&quot;adaptive-rate-limit-response-calculator.p.rapidapi.com&quot;)
payload = '{
  &quot;requests&quot;: [
    {
      &quot;requestContext&quot;: {
        &quot;clientTier&quot;: &quot;free&quot;
      },
      &quot;rateLimitSignals&quot;: {
        &quot;remainingAllowance&quot;: 0,
        &quot;allowedQuota&quot;: 100
      }
    },
    {
      &quot;requestContext&quot;: {
        &quot;clientTier&quot;: &quot;paid&quot;
      },
      &quot;rateLimitSignals&quot;: {
        &quot;remainingAllowance&quot;: 0,
        &quot;allowedQuota&quot;: 200
      }
    },
    {
      &quot;requestContext&quot;: {
        &quot;clientTier&quot;: &quot;internal&quot;
      },
      &quot;rateLimitSignals&quot;: {
        &quot;remainingAllowance&quot;: 0,
        &quot;allowedQuota&quot;: 100
      }
    }
  ]
}'
headers = {
    'Content-Type': 'application/json',
    'x-rapidapi-key': 'YOUR_RAPIDAPI_KEY',
    'x-rapidapi-host': 'adaptive-rate-limit-response-calculator.p.rapidapi.com'
}
conn.request(&quot;POST&quot;, &quot;/calculate&quot;, payload, headers)
res = conn.getresponse()
print(res.read().decode())</code></pre></div></div>
                <div id="snippet-java" class="code-block"><div class="code-wrap"><button type="button" class="copy-btn" data-copy="snippet-java">Copy</button><pre><code>HttpRequest request = HttpRequest.newBuilder()
    .uri(URI.create(&quot;https://adaptive-rate-limit-response-calculator.p.rapidapi.com/calculate&quot;))
    .header(&quot;Content-Type&quot;, &quot;application/json&quot;)
    .header(&quot;x-rapidapi-key&quot;, &quot;YOUR_RAPIDAPI_KEY&quot;)
    .header(&quot;x-rapidapi-host&quot;, &quot;adaptive-rate-limit-response-calculator.p.rapidapi.com&quot;)
    .method(&quot;POST&quot;, HttpRequest.BodyPublishers.ofString(&quot;{
  \&quot;requests\&quot;: [
    {
      \&quot;requestContext\&quot;: {
        \&quot;clientTier\&quot;: \&quot;free\&quot;
      },
      \&quot;rateLimitSignals\&quot;: {
        \&quot;remainingAllowance\&quot;: 0,
        \&quot;allowedQuota\&quot;: 100
      }
    },
    {
      \&quot;requestContext\&quot;: {
        \&quot;clientTier\&quot;: \&quot;paid\&quot;
      },
      \&quot;rateLimitSignals\&quot;: {
        \&quot;remainingAllowance\&quot;: 0,
        \&quot;allowedQuota\&quot;: 200
      }
    },
    {
      \&quot;requestContext\&quot;: {
        \&quot;clientTier\&quot;: \&quot;internal\&quot;
      },
      \&quot;rateLimitSignals\&quot;: {
        \&quot;remainingAllowance\&quot;: 0,
        \&quot;allowedQuota\&quot;: 100
      }
    }
  ]
}&quot;))
    .build();
HttpResponse&lt;String&gt; response = HttpClient.newHttpClient().send(request, HttpResponse.BodyHandlers.ofString());
System.out.println(response.body());</code></pre></div></div>
                <p><button type="button" class="postman-btn" id="postman-download">Download Postman collection</button></p>
            </section>
            <section><h2 id="expect">What to expect</h2><p>Response format depends on the endpoint. Use your RapidAPI key in headers. Stateless; no data stored. See <a href="https://rapidapi.com/precisionsolutionstech/api/adaptive-rate-limit-response-calculator" target="_blank" rel="noopener">RapidAPI docs</a> for full response schema.</p></section>
            <section><h2 id="about">About this API</h2>
<div class="long-desc">
<p>Rate Limit Response Calculator API</p>
<p>The Rate Limit Response Calculator API computes the correct HTTP rate-limit response for a request at a given moment, based on supplied signals and policy rules. The API does not enforce limits, store counters, or block traffic—it calculates decisions.</p>
<p>What This API Does</p>
<p>Given a request context with rate-limit signals and system state, this API provides:</p>
<ul>
<li>**Recommended HTTP status code** — 429, 503, or 200 with degradation</li>
<li>**Correct rate-limit headers** — Retry-After, X-RateLimit-* headers</li>
<li>**Retry and backoff guidance** — Whether to retry and suggested backoff duration</li>
<li>**Degradation suggestions** — When to return partial success instead of hard blocks</li>
<li>**Decision reasoning** — Human-readable explanation of the decision</li>
<li>**Applied policy rules** — Which rules were used to make the decision</li>
<li>**Warnings** — Alerts about retry storms, abuse patterns, etc.</li>
</ul>
<p>The API is stateless, deterministic, and requires no persistent storage. It uses policy-based rules to make decisions that respect HTTP semantics, idempotency, tier fairness, and system load.</p>
<p>Key Features</p>
<ul>
<li>**Stateless &amp; Fast** — No data storage, &lt;50ms target response time</li>
<li>**Deterministic** — Identical inputs produce identical outputs</li>
<li>**Policy-Based** — Hard vs soft limits, tier-based fairness, abuse detection</li>
<li>**Batch Support** — Calculate responses for multiple requests</li>
<li>**Production-Ready** — Safe for synchronous use in hot paths</li>
<li>**HTTP-Compliant** — Follows RFC standards for 429 Too Many Requests responses</li>
</ul>
<p>Use Cases</p>
<ul>
<li>**Gateway Decision Support** — Get correct status codes and headers for rate-limit responses</li>
<li>**Tiered API Products** — Different responses for free vs paid vs internal clients</li>
<li>**Retry Storm Prevention** — Correct backoff guidance to prevent synchronized retries</li>
<li>**Graceful Degradation** — Return partial success or soft failures instead of hard blocks</li>
<li>**Abuse vs Overload Differentiation** — Respond differently under load vs abuse vs misconfiguration</li>
<li>**API Rate Limiting** — Standardize rate-limit responses across microservices</li>
<li>**Edge Computing** — Stateless rate-limit calculation for CDN workers</li>
</ul>
<p>Who This Is For</p>
<p>### Backend Engineers</p>
<p>Implement rate limiting correctly without reinventing the wheel. Get the right status code, headers, and retry guidance for every scenario.</p>
<p>### Platform / SRE Teams</p>
<p>Standardize rate-limit responses across shared gateways and services. Ensure consistent behavior during traffic spikes and incidents.</p>
<p>### API Product Teams</p>
<p>Expose public APIs with tiered pricing plans. Different responses for free vs paid vs internal clients, with appropriate fairness and degradation.</p>
<p>### Edge / CDN Workers</p>
<p>Stateless workers compute the correct response without shared storage. Perfect for edge computing environments.</p>
<p>### SaaS Companies</p>
<p>Handle rate limiting consistently across multiple services. Prevent cascading failures during traffic spikes.</p>
<p>Also useful if you're looking for:</p>
<ul>
<li>rate limit calculator API</li>
<li>429 response calculator</li>
<li>retry backoff API</li>
<li>rate limiting advisor</li>
<li>API throttling calculator</li>
<li>tiered rate limit API</li>
<li>retry-after header generator</li>
<li>rate limit decision API</li>
<li>graceful degradation API</li>
<li>API gateway rate limit helper</li>
</ul>
</div></section>
        </article>
        <footer>
            <p><a href="https://rapidapi.com/precisionsolutionstech/api/adaptive-rate-limit-response-calculator" target="_blank" rel="noopener">Subscribe on RapidAPI</a> · <a href="../index.html">API Catalog</a></p>
            <p>© 2026 Precision Solutions Tech</p>
        </footer>
    </div>
    <script>
(function(){
    var host='adaptive-rate-limit-response-calculator.p.rapidapi.com',path='/calculate',body="{\n  \"requests\": [\n    {\n      \"requestContext\": {\n        \"clientTier\": \"free\"\n      },\n      \"rateLimitSignals\": {\n        \"remainingAllowance\": 0,\n        \"allowedQuota\": 100\n      }\n    },\n    {\n      \"requestContext\": {\n        \"clientTier\": \"paid\"\n      },\n      \"rateLimitSignals\": {\n        \"remainingAllowance\": 0,\n        \"allowedQuota\": 200\n      }\n    },\n    {\n      \"requestContext\": {\n        \"clientTier\": \"internal\"\n      },\n      \"rateLimitSignals\": {\n        \"remainingAllowance\": 0,\n        \"allowedQuota\": 100\n      }\n    }\n  ]\n}",fileUpload=false,rapidUrl="https://rapidapi.com/precisionsolutionstech/api/adaptive-rate-limit-response-calculator";
    document.querySelectorAll('[data-rapid-docs]').forEach(function(a){ a.href = rapidUrl; });
    document.getElementById('toggle-req').addEventListener('click',function(e){ e.preventDefault(); var d=document.getElementById('request-schema'); d.classList.toggle('show'); this.setAttribute('aria-expanded',d.classList.contains('show')); });
    document.getElementById('toggle-res').addEventListener('click',function(e){ e.preventDefault(); var d=document.getElementById('response-schema'); d.classList.toggle('show'); this.setAttribute('aria-expanded',d.classList.contains('show')); });
    var toggleErrors=document.getElementById('toggle-errors');if(toggleErrors){ toggleErrors.addEventListener('click',function(e){ e.preventDefault(); var d=document.getElementById('error-codes'); d.classList.toggle('show'); this.setAttribute('aria-expanded',d.classList.contains('show')); }); }
    document.querySelectorAll('.lang-tabs button').forEach(function(btn){
        btn.addEventListener('click',function(){
            document.querySelectorAll('.lang-tabs button').forEach(function(b){ b.classList.remove('active'); b.setAttribute('aria-selected','false'); });
            document.querySelectorAll('.code-block').forEach(function(b){ b.classList.remove('active'); });
            this.classList.add('active'); this.setAttribute('aria-selected','true');
            var el=document.getElementById('snippet-'+this.getAttribute('data-lang')); if(el) el.classList.add('active');
        });
    });
    document.querySelectorAll('.copy-btn').forEach(function(btn){
        btn.addEventListener('click',function(){
            var id=this.getAttribute('data-copy'),block=document.getElementById(id),pre=block?block.querySelector('pre code'):null,btn=this;
            if(pre) navigator.clipboard.writeText(pre.textContent).then(function(){ var t=btn.textContent; btn.textContent='Copied!'; setTimeout(function(){ btn.textContent=t; },1500); });
        });
    });
    document.getElementById('postman-download').addEventListener('click',function(){
        var coll = { info: { name: "Adaptive Rate Limit Response Calculator API", schema: 'https://schema.getpostman.com/json/collection/v2.1.0/collection.json' }, item: [{ name: 'Request', request: { method: 'POST', header: [{ key: 'Content-Type', value: 'application/json' }, { key: 'x-rapidapi-key', value: 'YOUR_RAPIDAPI_KEY' }, { key: 'x-rapidapi-host', value: host }], url: 'https://'+host+path } } ] };
        if(!fileUpload){ coll.item[0].request.body = { mode: 'raw', raw: typeof body==='string'?body:JSON.stringify(body) }; }
        else { coll.item[0].request.header = [{ key: 'X-RapidAPI-Key', value: 'YOUR_RAPIDAPI_KEY' }, { key: 'X-RapidAPI-Host', value: host }]; coll.item[0].request.url = 'https://'+host+path+'?outputFormat=json'; coll.item[0].request.body = { mode: 'formdata', formdata: [{ key: 'file', type: 'file', src: '' }] }; }
        var blob = new Blob([JSON.stringify(coll,null,2)], { type: 'application/json' });
        var a = document.createElement('a'); a.href = URL.createObjectURL(blob); a.download = 'adaptive-rate-limit-calculator-postman-collection.json'; a.click(); URL.revokeObjectURL(a.href);
    });
    var runBtn=document.getElementById('run-btn'),keyInput=document.getElementById('api-key'),resultDiv=document.getElementById('play-result');
    runBtn.addEventListener('click',function(){
        var key=(keyInput.value||'').trim();
        if(!key){ resultDiv.style.display='block'; resultDiv.className='result error'; resultDiv.textContent='Please enter your RapidAPI key.'; return; }
        
    var bodyStr=document.getElementById('body-json').value.trim(),body;
    try{body=JSON.parse(bodyStr);}catch(e){resultDiv.style.display='block';resultDiv.className='result error';resultDiv.textContent='Invalid JSON: '+e.message;return;}
    runBtn.disabled=true;resultDiv.style.display='block';resultDiv.className='result';resultDiv.textContent='Loading…';
    fetch('https://'+host+path,{method:'POST',headers:{'Content-Type':'application/json','x-rapidapi-key':key,'x-rapidapi-host':host},body:JSON.stringify(body)})
    .then(function(r){return r.text().then(function(t){return{status:r.status,body:t};});})
    .then(function(o){resultDiv.className='result '+(o.status>=200&&o.status<300?'success':'error');try{resultDiv.textContent=JSON.stringify(JSON.parse(o.body),null,2);}catch(_){resultDiv.textContent=o.status+'\n'+o.body;}})
    .catch(function(e){resultDiv.className='result error';resultDiv.textContent='Request failed: '+e.message;})
    .finally(function(){runBtn.disabled=false;});
    });
})();
    </script>
</body>
</html>